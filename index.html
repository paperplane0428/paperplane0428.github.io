<!DOCTYPE html>
<html>
  <script src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
  <body>
  
    <div id="mydiv"></div>
    <script type="text/babel">

      const A = (props) => {
        const [isDone, setIsDone] = React.useState(false)
        const food = props.food
        const handleClick = (e) => {
          if (isDone) {
            setIsDone(false)
          } else {
            setIsDone(true)
          }
        }
        let displayText = food + ' finished'
        if (!isDone) {
          displayText = food
        }
        return (
          <li onClick={handleClick}>{displayText}</li>
        )
      }

      const FavFoods = (props) => {
        const foods = props.food
        const foodList = foods.map(food => {
          return (
            <A food={food}/>
          )
        })
        return (
          <ul>{foodList}</ul>
        )
      }

      const Input = (props) => {
        const [name, setName] = React.useState('');
        const handleChange = (e) => {
          setName(e.target.value)
        }

        const handleClick = (e) => {
          props.addList(name)
          setName('')
        }

        return (
          <div>
            <input value={name} onChange={handleChange} />
            <button onClick={handleClick}>Submit</button>
          </div>
        )
      }

      const Greet = (props) => {
        const [food, setFood] = React.useState([])
        const addList = (a) => {
          setFood([...food, a])
        }
        return (
          <div>
            <FavFoods food={food}/>
            <Input addList={addList}/>
          </div>
        )
        
      }

      ReactDOM.render(<Greet />, document.getElementById('mydiv'))
    </script>
  </body>
</html>


