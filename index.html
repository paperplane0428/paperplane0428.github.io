<!DOCTYPE html>
<html>
  <script src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
  <body>
  
    <div id="mydiv"></div>
    <script type="text/babel">

      const A = (props) => {
        const [isDone, setIsDone] = React.useState(false)
        const food = props.food
        const delList = props.delList
        const handleClick = (e) => {
          if (isDone) {
            setIsDone(false)
          } else {
            setIsDone(true)
          }
        }
        const handleBtnClick = (e) => {
          delList(food)
        }
        let toggle = food
        if (isDone) {
          toggle = food + ' finished'
        }

        return (
          <div key={food}>
            <li onClick={handleClick}>{toggle}</li>
            <button onClick={handleBtnClick}>X</button>
          </div>
        )
      }

      const FavFoods = (props) => {
        const foods = props.foods 
        const delList = props.delList
        const foodList = foods.map(food => {
          return (
            <A food={food} delList={delList}/>
          )
        })
        return (
          <ul>{foodList}</ul>
        )
      }

      const Input = (props) => {
        const [name, setName] = React.useState('')
        const handleChange = (e) => {
          setName(e.target.value)
        }
        const addList = props.addList
        const handleClick = (e) => {
          addList(name)
          setName('')
        }
        return (
          <div>
            <input onChange={handleChange} value={name} />
            <button onClick={handleClick}>Submit</button>
          </div>
        )
      }

      const Greet = (props) => {
        const [foods, setFoods] = React.useState([])
        const addList = (newFood) => {
          setFoods([...foods, newFood])
        }
        const delList = (delFood) => {
          const deleted = foods.filter(food => {
            return food !== delFood
          })
          setFoods(deleted)
        }
        return (
          <div>
            <FavFoods delList={delList} foods={foods}/>
            <Input addList={addList}/>
            
          </div>
        )
      }

      ReactDOM.render(<Greet />, document.getElementById('mydiv'))
    </script>
  </body>
</html>


